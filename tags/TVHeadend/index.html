<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><title>태그: TVHeadend - WhiteNose Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="WhiteNose Blog"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="WhiteNose Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="WhiteNose Blog about Development, IT, Etc.."><meta property="og:type" content="website"><meta property="og:title" content="WhiteNose Blog"><meta property="og:url" content="https://blog.hinco.dev/"><meta property="og:site_name" content="WhiteNose Blog"><meta property="og:description" content="WhiteNose Blog about Development, IT, Etc.."><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.hinco.dev/img/og_image.png"><meta property="article:author" content="SangHyoun Yun"><meta property="article:tag" content="Node.js,Backend,IT,Development,DevOps,AWS,typescript,javascript,GoLang"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.hinco.dev"},"headline":"WhiteNose Blog","image":["https://blog.hinco.dev/img/og_image.png"],"author":{"@type":"Person","name":"SangHyoun Yun"},"publisher":{"@type":"Organization","name":"WhiteNose Blog","logo":{"@type":"ImageObject"}},"description":"WhiteNose Blog about Development, IT, Etc.."}</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/androidstudio.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">WhiteNose Blog</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/archives">전체 글</a></div><div class="navbar-end"></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">태그</a></li><li class="is-active"><a href="#" aria-current="page">TVHeadend</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-9 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-07-11T22:35:04.000Z" title="7/12/2017, 7:35:04 AM">2017/7/12</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2021-11-21T10:05:57.898Z" title="11/21/2021, 7:05:57 PM">2021-11-21</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/NAS/">NAS</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/nas-TVHeadend-setting/">XPEnology에 Docker를 이용하여 TVHeadend 설정하기</a></h1><div class="content"><p>예전에 시도해보았던 <code>TVHeadend</code> 를 다시 이용해보기로 했다.</p>
<h1 id="환경-설정"><a href="#환경-설정" class="headerlink" title="환경 설정"></a><strong>환경 설정</strong></h1><p><code>TVHeadend</code> 를 이용하기 위해서는, 기본적으로 네트워크가 공인 IP를 받아야 한다.또는 공유기를 사용중이라면, 공유기 내에 <code>IGMP</code> 서비스나 <code>IPTV</code> 서비스 등을 이용하여 리눅스가 할당받은 IP에 신호를 넘겨줘야한다.</p>
<h1 id="Docker를-통하여-설치하기"><a href="#Docker를-통하여-설치하기" class="headerlink" title="Docker를 통하여 설치하기"></a><strong>Docker를 통하여 설치하기</strong></h1><p><code>DSM</code>에 네이티브로 설치를 할 수도 있지만, 개인적으로 <code>Docker</code> 를 이용하는것을 좋아한다.이미지는 다운로드수가 가장 많고 업데이트가 활발한 <a target="_blank" rel="noopener" href="https://hub.docker.com/r/linuxserver/tvheadend/">linuxserver/tvheadend/</a> 를 사용했다.<code>Docker 컨테이너</code>를 만드는 명령어는 아래와 같이 입력하면 된다.</p>
<pre><code>docker create --name=tvheadend --net=host linuxserver/tvheadend:release-4.2
</code></pre>
<p>공식 Document 를 참고하여, 나의 설정에 맞는 컨테이너 생성 코드이다.이름은 tvheadend로, 네트워크는 호스트와 같은 네트워크 사용하는것이다. (이 옵션이 굉장히 중요하다)이렇게 컨테이너를 생성하고 start 시켜준다.</p>
<p>이후 http://[DSM URL]:9981 으로 접속을 하면 메인 페이지가 뜬다.</p>
<h1 id="TVHeadend에-채널-등록하기"><a href="#TVHeadend에-채널-등록하기" class="headerlink" title="TVHeadend에 채널 등록하기"></a><strong>TVHeadend에 채널 등록하기</strong></h1><p>우선 방송 <code>IP 리스트</code>가 필요하다.이 부분은 민감한 사항이므로, 구글링을 통해 직접 해결하길 바란다.IP 리스트가 있다면, <a target="_blank" rel="noopener" href="https://blog.riceworld.info/archives/148">M3U 생성기</a>를 이용하여 이쁜 <code>M3U</code> 파일을 만들어주자.</p>
<p>M3U 파일이 있다면, 이 파일을 DSM안에 <code>Web Station</code> 을 통해 웹으로 접속 가능하도록 만들어 준다.이후 내용은 <a target="_blank" rel="noopener" href="https://x86.co.kr/clubs/1398924">이곳</a>을 참고하여 진행하면 된다.</p>
<p><code>TVHeadend</code> 홈페이지 안에서 <code>DVB Inputs</code> 메뉴에서 <code>Networks</code> 안에 새로운 네트워크를 등록한다.<code>IPTV Automatic Network</code> 로 선택하고, <code>Maximum # input streams</code> 는 5정도,<code>URL</code>은 아까 올렸던 M3U 파일의 웹 경로를 써주면 된다.여기서 M3U 경로는 외부 아이피가 아닌 내부 아이피로 써줘야 한다. <del>이거 몰라서 1시간 보냄</del>그러면 <code>Muxes</code> 에 채널들이 보인다. 스캔이 바로 시작되는데 끝날때까지 기다린다.</p>
<p>IP 주소가 정확한데, 스캔결과가 <code>확인</code> 으로 뜨지 않는다면 네트워크 문제가 있는 것이다.이경우에는 네트워크 구성을 다시 살펴봐야 한다.</p>
<p>이후 <code>서비스</code> 탭으로 옮겨가서 <code>서비스 매핑</code> 버튼을 누르고, 모든 서비스 매핑을 실행한다.같은이름을 병합시킨다는 내용의 체크박스를 누르고 실행하는것이 좋다.그래야 같은 채널 서비스는 중복되어 저장되지 않는다.</p>
<p><code>채널</code> 탭으로 이동하면 모든 서비스들이 제대로 나온것을 볼 수 있고, 가장 왼쪽에 <code>재생</code> 버튼이 있다.아무 채널이나 눌러서 재생을 해서 정상적으로 재생된다면 끝난 것이다.</p>
<h1 id="EPG-등록하기"><a href="#EPG-등록하기" class="headerlink" title="EPG 등록하기"></a><strong>EPG 등록하기</strong></h1><p><code>EPG</code>를 등록하기 위해서는 우선 <code>EPG2XMl</code> 이라는것을 설치해야한다.<a target="_blank" rel="noopener" href="https://github.com/sungpyohong/epg2xml">https://github.com/sungpyohong/epg2xml</a> 에서 받으면 되는데,작성자분이 바뀐것인지 링크로 들어가면 <a target="_blank" rel="noopener" href="https://github.com/wonipapa/epg2xml">https://github.com/wonipapa/epg2xml</a> 이곳으로 가진다.이곳에서 설명하는대로 실행하면 되는데, 주기적으로 epg를 갱신해야 하므로 .py 를 이용하는 방법이 좋다.자세한 진행 사항은 <a target="_blank" rel="noopener" href="https://x86.co.kr/clubs/1399085">https://x86.co.kr/clubs/1399085</a>를 참조하자.</p>
<h1 id="사용하기"><a href="#사용하기" class="headerlink" title="사용하기"></a><strong>사용하기</strong></h1><p>이제는 <code>TVHeadend</code> 서비스는 정상적으로 설치되었다.클라이언트 프로그램들을 이용하여 서비스를 사용하면 된다.</p>
</div></article></div></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/mypic.jpg" alt="WhiteNose"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">WhiteNose</p><p class="is-size-6 is-block">SangHyoun Yun</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul/Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">19</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hinco114"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Dev/"><span class="level-start"><span class="level-item">Dev</span></span><span class="level-end"><span class="level-item tag">7</span></span></a><ul><li><a class="level is-mobile" href="/categories/Dev/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Dev/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Dev/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Dev/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/"><span class="level-start"><span class="level-item">알고리즘</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Dev/%ED%99%98%EA%B2%BD%EA%B5%AC%EC%B6%95/"><span class="level-start"><span class="level-item">환경구축</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Game/"><span class="level-start"><span class="level-item">Game</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/NAS/"><span class="level-start"><span class="level-item">NAS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%ED%98%BC%EC%9E%A3%EB%A7%90/"><span class="level-start"><span class="level-item">혼잣말</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">WhiteNose Blog</a><p class="is-size-7"><span>&copy; 2022 SangHyoun Yun</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><!--!--><script src="/js/main.js" defer></script><!--!--></body></html>